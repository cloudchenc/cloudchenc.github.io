---
title: Java内存模型
tags:
categories:
---

内存缓存导致的可见性

线程切换导致的原子性

指令重排导致的有序性

可见性，原子性，有序性

Happens-Before：传递性

主要是通过内存屏障(memory barrier)禁止重排序的，即时编译器根据具体的底层体系架构，将这些内存屏障替换成具体的 CPU 指令。对于编译器而言，内存屏障将限制它所能做的重排序优化。而对于处理器而言，内存屏障将会导致缓存的刷新操作。比如，对于volatile，编译器将在volatile字段的读写操作前后各插入一些内存屏障。