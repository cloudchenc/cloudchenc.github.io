---
title: 代理模式
tags:
categories:
---

Proxy

一个类代表另一个类的功能，属于结构型模式。

为其他对象提供

### 静态代理

代理类和委托类有共同的父类或者父接口

### 动态代理

java.lang.reflect.Proxy : Java动态代理机制生成的所有动态代理类的父类，提供了一组静态方法来为一组接口动态地生成代理类及其对象

java.lang.reflect.InvocationHandler : 调用处理器接口，invoke方法用于集中处理在动态代理类对象上的方法调用，通常在该方法中实现对委托类的代理访问

### 总结

静态代理在编译时产生 class 字节码文件，效率高。但是静态代理只能为一个目标对象服务，如果目标对象过多，则会产生很多代理类。

动态代理必须实现 Invocaton 接口，通过反射代理方法，比较消耗系统性能。但是动态代理可以减少代理类的数量，使用更灵活。Java后端的很多框架大多采用这种方式。
